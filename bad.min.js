window.badJS=function({host:e,clienttype:r}){function t(e){let r=0;for(let t=0;t<e.length;t++){let o=e.charCodeAt(t);o>=1&&o<=126||65376<=o&&o<=65439?r++:r+=2}return!(r>2083||r>65536||r>8e4||r>8182)}window.onload=function(){let o=window.globalVue;o&&(o.constructor.config.errorHandler=function(o,n,i){let l="errorType="+o.name+"&msg="+o.message+"&userBehavior="+i+"&from="+encodeURIComponent(location.href)+"&type=1&clienttype="+r+"&errorTime="+(new Date).getTime();if(!t(l))throw new Error("Exceeded the browser limit parameter length");(new Image).src=e+"/badjs/error?"+l})},window.addEventListener("unhandledrejection",r=>{r.preventDefault();let o=(r.reason,r.reason);if(!t(o))throw new Error("Exceeded the browser limit parameter length");(new Image).src=e+"/badjs/error?"+o},!1),window.onerror=function(o,n,i,l,a){setTimeout((function(){let o={};if(l=l||window.event&&window.event.errorCharacter||0,o.filePath=n,o.line=i,o.col=l,o.errorTime=(new Date).getTime(),a&&a.stack)o.errorType=a.stack.toString().split(":")[0],o.msg=a.stack.toString().split(":")[1],o.msg=o.msg.split("at")[0];else if(arguments.callee){let e=[],r=arguments.callee.caller,t=3;for(;r&&--t>0&&(e.push(r.toString()),r!==r.caller);)r=r.caller;e=e.join(","),o.errorType=a.stack.toString().split(":")[0],o.msg=a.stack.toString().split(":")[1],o.msg=o.msg.split("at")[0]}let c="";for(let e in o)null!==o[e]&&void 0!==o[e]||(o[e]="null"),c+="&"+e+"="+o[e].toString();if(srt=c.replace("&","").replace("\n","").replace(/\s/g,""),!t(srt))throw new Error("Exceeded the browser limit parameter length");(new Image).src=e+"/badjs/error?"+srt+"&type=4&clienttype="+r+"&from="+encodeURIComponent(location.href)+"&errorTime="+(new Date).getTime()}),0)},window.addEventListener("error",(function(o){let n=o.target.localName;if(n){let i={sourceUrl:""};"script"==n?i.sourceUrl=o.target.src:"img"==n?i.sourceUrl=o.target.src:"link"==n&&(i.sourceUrl=o.target.href);let l="errorType="+n+" lood error&type=3&from="+encodeURIComponent(location.href)+"&errorURL="+encodeURIComponent(i.sourceUrl)+"&clienttype="+r+"&errorTime="+(new Date).getTime();if(!t(l))throw new Error("Exceeded the browser limit parameter length");(new Image).src=e+"/badjs/error?"+l}}),!0)},window.badJS({host:"http://192.168.80.10:3001",clienttype:0});
